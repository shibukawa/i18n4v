<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Vue Example &#8212; i18n for virtual dom 0.2.0 documentation</title>
    
    <link rel="stylesheet" href="../_static/haiku.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.2.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Unittest" href="../unittest.html" />
    <link rel="prev" title="Mithril Example" href="mithril.html" /> 
  </head>
  <body role="document">
      <div class="header" role="banner"><h1 class="heading"><a href="../index.html">
          <span>i18n for virtual dom 0.2.0 documentation</span></a></h1>
        <h2 class="heading"><span>Vue Example</span></h2>
      </div>
      <div class="topnav" role="navigation" aria-label="top navigation">
      
        <p>
        «&#160;&#160;<a href="mithril.html">Mithril Example</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="../unittest.html">Unittest</a>&#160;&#160;»
        </p>

      </div>
      <div class="content">
        
        
  <div class="section" id="vue-example">
<h1>Vue Example<a class="headerlink" href="#vue-example" title="Permalink to this headline">¶</a></h1>
<p><a class="reference external" href="https://vuejs.org/">Vue 2.0</a> is a progressive JavaScript framework. Core is small and fast, but there many plug-ins to extend Vue.</p>
<p>i18n4v provides vue.js plugin, called <strong>i18n4vue</strong>.</p>
<div class="section" id="install-plugin">
<h2>Install Plugin<a class="headerlink" href="#install-plugin" title="Permalink to this headline">¶</a></h2>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> npm install i18n4vue --save
</pre></div>
</div>
</div>
<div class="section" id="plugin-reference">
<h2>Plugin Reference<a class="headerlink" href="#plugin-reference" title="Permalink to this headline">¶</a></h2>
<p>You can register this plugin by using <a class="reference external" href="https://vuejs.org/v2/api/#Vue-use">Vue.use</a> method.</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">Vue</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">require</span><span class="p">(</span><span class="s1">&#39;i18n4vue&#39;</span><span class="p">));</span>
</pre></div>
</div>
<p>It provides <code class="docutils literal"><span class="pre">v-i18n</span></code> directive and <code class="docutils literal"><span class="pre">i18n()</span></code> method:</p>
<div class="highlight-html"><div class="highlight"><pre><span></span>&lt;!-- text contents of tags that has v-i18n directive become translation key --&gt;
&lt;h3 v-i18n&gt;Language Select&lt;/h3&gt;

&lt;!-- if translation contains HTML tags, use .safe modifier --&gt;
&lt;h3 v-i18n.safe&gt;Language Select&lt;/h3&gt;
</pre></div>
</div>
<div class="highlight-html"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">th</span> <span class="na">v-for</span><span class="o">=</span><span class="s">&quot;label in dayOfWeekLabels&quot;</span><span class="p">&gt;</span>{{ i18n(label) }}<span class="p">&lt;/</span><span class="nt">th</span><span class="p">&gt;</span>

<span class="c">&lt;!-- This form can use whole feature of i18n4, including pluralisation feature --&gt;</span>
<span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>{{ i18n(&#39;They have {{num}} records&#39;, 10) }}<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="sample-code">
<h2>Sample Code<a class="headerlink" href="#sample-code" title="Permalink to this headline">¶</a></h2>
<script type="text/javascript" src="../_static/i18n4v.js"></script>
<script type="text/javascript" src="../_static/i18n4vue.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.0.3/vue.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/vue-router/2.0.1/vue-router.js"></script>

<div id="app-calendar">
    <router-view></router-view>
</div>

<script>

Vue.use(i18n4vue);

var router, vm;
var translations = {
    en: {
        values: {
            "Language Select": "Language Select",
            Sun: "Sun", Mon: "Mon", Tue: "Tue", Wed: "Wed", Thu: "Thu", Fri: "Fri", Sat: "Sat",
            "Previous Month": "Previous Month",
            "Next Month": "Next Month",
            "%{month} %{year}": "%{month} %{year}",
            1: "January", 2: "February", 3: "March", 4: "April",
            5: "May", 6: "June", 7: "July", 8: "August",
            9: "September", 10: "October", 11: "November", 12: "December"
        }
    },
    ja: {
        values: {
            "Language Select": "言語選択",
            Sun: "日曜", Mon: "月曜", Tue: "火曜", Wed: "水曜", Thu: "木曜", Fri: "金曜", Sat: "土曜",
            "Previous Month": "前月",
            "Next Month": "次月",
            "%{month} %{year}": "%{year} %{month}",
            1: "睦月", 2: "如月", 3: "弥生", 4: "卯月",
            5: "皐月", 6: "水無月", 7: "文月", 8: "葉月",
            9: "長月", 10: "神無月", 11: "霜月", 12: "師走"
        }
    }
};

// Generates calendar
function calcCalendar(year, month) {
    var i, d;
    var firstDay = new Date(year, month-1, 1).getDay();
    var last = new Date(year, month, 0);
    var weeks = [];
    var week = [];
    for (i = 0; i < firstDay; i++) {
        week.push('');
    }
    for (d = 1; d <= last.getDate(); d++) {
        week.push(d);
        if (week.length === 7) {
            weeks.push(week);
            week = [];
        }
    }
    for (i = 0; i < (6 - last.getDay()); i++) {
        week.push('');
    }
    weeks.push(week);
    return weeks;
}

Vue.component('calendar', {
    props: {
        year: Number,
        month: Number
    },
    template: [
        '<table>',
            '<thead>',
                '<tr>',
                    '<th v-for="label in dayOfWeekLabels">{{ i18n(label) }}</th>',
                '</tr>',
            '</thead>',
            '<tbody>',
                '<tr v-for="week in calendar">',
                    '<td v-for="day in week">{{day}}</td>',
                '</tr>',
            '</tbody>',
        '</table>'].join(''),
    computed: {
        calendar: function() {
            return calcCalendar(this.year, this.month);
        }
    },
    data: function () {
        return {
            dayOfWeekLabels: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat']
        };
    },
    methods: {
        i18n: i18n
    }
});

var Calendar = {
    data: function () {
        return {
            year: null,
            month: null,
        };
    },
    template: [
        '<div>',
            '<h3 v-i18n>Language Select</h3>',
            '<button v-on:click="select(\'en\')">English</button>',
            '<button v-on:click="select(\'ja\')">Japanese</button>',
            '<h3>{{ i18n("%{month} %{year}", {year: year, month: i18n(month) }) }}</h3>',
            '<button v-on:click="prev" v-i18n>Previous Month</button>',
            '<button v-on:click="next" v-i18n>Next Month</button>',
            '<calendar :year="year" :month="month"></calendar>',
        '</div>'
    ].join(''),
    created: function () {
        this.year = Number(this.$route.params.year);
        this.month = Number(this.$route.params.month);
    },
    methods: {
        prev: function () {
            if (this.month === 1) {
                router.push('/' + (this.year - 1) + '/12');
            } else {
                router.push('/' + this.year + '/' + (this.month - 1));
            }
        },
        next: function () {
            if (this.month === 12) {
                router.push('/' + (this.year + 1) + '/1');
            } else {
                router.push('/' + this.year + '/' + (this.month + 1));
            }
        },
        select: function (lang) {
            i18n.translator.add(translations[lang]);
            this.$forceUpdate();
        },
        i18n: i18n
    },
    watch: {
        $route: function () {
            this.year = Number(this.$route.params.year);
            this.month = Number(this.$route.params.month);
        }
    }
};
var date = new Date();
var thisMonth = '/' + date.getFullYear() + '/' + (date.getMonth() + 1);
router = new VueRouter({
    routes: [
        { path: '/:year/:month', component: Calendar },
        { path: '/', redirect: thisMonth }
    ]
});

function main() {
    i18n.translator.selectLanguage(Object.keys(translations), function (err, lang) {
        i18n.translator.add(translations[lang] ? translations[lang] : translations.en);
    });

    vm = new Vue({
        router: router,
        el: '#app-calendar'
    });
}

if (document.readyState !== 'loading') {
    main();
} else {
    document.addEventListener('DOMContentLoaded', main);
}
</script></div>
<div class="section" id="source">
<h2>Source<a class="headerlink" href="#source" title="Permalink to this headline">¶</a></h2>
<div class="highlight-html"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>  1
  2
  3
  4
  5
  6
  7
  8
  9
 10
 11
 12
 13
 14
 15
 16
 17
 18
 19
 20
 21
 22
 23
 24
 25
 26
 27
 28
 29
 30
 31
 32
 33
 34
 35
 36
 37
 38
 39
 40
 41
 42
 43
 44
 45
 46
 47
 48
 49
 50
 51
 52
 53
 54
 55
 56
 57
 58
 59
 60
 61
 62
 63
 64
 65
 66
 67
 68
 69
 70
 71
 72
 73
 74
 75
 76
 77
 78
 79
 80
 81
 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text/javascript&quot;</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;../_static/i18n4v.js&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text/javascript&quot;</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;../_static/i18n4vue.js&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;text/javascript&quot;</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;https://cdnjs.cloudflare.com/ajax/libs/vue/2.0.3/vue.js&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span> <span class="na">src</span><span class="o">=</span><span class="s">&quot;https://cdnjs.cloudflare.com/ajax/libs/vue-router/2.0.1/vue-router.js&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;app-calendar&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">router-view</span><span class="p">&gt;&lt;/</span><span class="nt">router-view</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>

<span class="p">&lt;</span><span class="nt">script</span><span class="p">&gt;</span>

<span class="nx">Vue</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">i18n4vue</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">router</span><span class="p">,</span> <span class="nx">vm</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">translations</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">en</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">values</span><span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;Language Select&quot;</span><span class="o">:</span> <span class="s2">&quot;Language Select&quot;</span><span class="p">,</span>
            <span class="nx">Sun</span><span class="o">:</span> <span class="s2">&quot;Sun&quot;</span><span class="p">,</span> <span class="nx">Mon</span><span class="o">:</span> <span class="s2">&quot;Mon&quot;</span><span class="p">,</span> <span class="nx">Tue</span><span class="o">:</span> <span class="s2">&quot;Tue&quot;</span><span class="p">,</span> <span class="nx">Wed</span><span class="o">:</span> <span class="s2">&quot;Wed&quot;</span><span class="p">,</span> <span class="nx">Thu</span><span class="o">:</span> <span class="s2">&quot;Thu&quot;</span><span class="p">,</span> <span class="nx">Fri</span><span class="o">:</span> <span class="s2">&quot;Fri&quot;</span><span class="p">,</span> <span class="nx">Sat</span><span class="o">:</span> <span class="s2">&quot;Sat&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Previous Month&quot;</span><span class="o">:</span> <span class="s2">&quot;Previous Month&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Next Month&quot;</span><span class="o">:</span> <span class="s2">&quot;Next Month&quot;</span><span class="p">,</span>
            <span class="s2">&quot;%{month} %{year}&quot;</span><span class="o">:</span> <span class="s2">&quot;%{month} %{year}&quot;</span><span class="p">,</span>
            <span class="mi">1</span><span class="o">:</span> <span class="s2">&quot;January&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="o">:</span> <span class="s2">&quot;February&quot;</span><span class="p">,</span> <span class="mi">3</span><span class="o">:</span> <span class="s2">&quot;March&quot;</span><span class="p">,</span> <span class="mi">4</span><span class="o">:</span> <span class="s2">&quot;April&quot;</span><span class="p">,</span>
            <span class="mi">5</span><span class="o">:</span> <span class="s2">&quot;May&quot;</span><span class="p">,</span> <span class="mi">6</span><span class="o">:</span> <span class="s2">&quot;June&quot;</span><span class="p">,</span> <span class="mi">7</span><span class="o">:</span> <span class="s2">&quot;July&quot;</span><span class="p">,</span> <span class="mi">8</span><span class="o">:</span> <span class="s2">&quot;August&quot;</span><span class="p">,</span>
            <span class="mi">9</span><span class="o">:</span> <span class="s2">&quot;September&quot;</span><span class="p">,</span> <span class="mi">10</span><span class="o">:</span> <span class="s2">&quot;October&quot;</span><span class="p">,</span> <span class="mi">11</span><span class="o">:</span> <span class="s2">&quot;November&quot;</span><span class="p">,</span> <span class="mi">12</span><span class="o">:</span> <span class="s2">&quot;December&quot;</span>
        <span class="p">}</span>
    <span class="p">},</span>
    <span class="nx">ja</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">values</span><span class="o">:</span> <span class="p">{</span>
            <span class="s2">&quot;Language Select&quot;</span><span class="o">:</span> <span class="s2">&quot;言語選択&quot;</span><span class="p">,</span>
            <span class="nx">Sun</span><span class="o">:</span> <span class="s2">&quot;日曜&quot;</span><span class="p">,</span> <span class="nx">Mon</span><span class="o">:</span> <span class="s2">&quot;月曜&quot;</span><span class="p">,</span> <span class="nx">Tue</span><span class="o">:</span> <span class="s2">&quot;火曜&quot;</span><span class="p">,</span> <span class="nx">Wed</span><span class="o">:</span> <span class="s2">&quot;水曜&quot;</span><span class="p">,</span> <span class="nx">Thu</span><span class="o">:</span> <span class="s2">&quot;木曜&quot;</span><span class="p">,</span> <span class="nx">Fri</span><span class="o">:</span> <span class="s2">&quot;金曜&quot;</span><span class="p">,</span> <span class="nx">Sat</span><span class="o">:</span> <span class="s2">&quot;土曜&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Previous Month&quot;</span><span class="o">:</span> <span class="s2">&quot;前月&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Next Month&quot;</span><span class="o">:</span> <span class="s2">&quot;次月&quot;</span><span class="p">,</span>
            <span class="s2">&quot;%{month} %{year}&quot;</span><span class="o">:</span> <span class="s2">&quot;%{year} %{month}&quot;</span><span class="p">,</span>
            <span class="mi">1</span><span class="o">:</span> <span class="s2">&quot;睦月&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="o">:</span> <span class="s2">&quot;如月&quot;</span><span class="p">,</span> <span class="mi">3</span><span class="o">:</span> <span class="s2">&quot;弥生&quot;</span><span class="p">,</span> <span class="mi">4</span><span class="o">:</span> <span class="s2">&quot;卯月&quot;</span><span class="p">,</span>
            <span class="mi">5</span><span class="o">:</span> <span class="s2">&quot;皐月&quot;</span><span class="p">,</span> <span class="mi">6</span><span class="o">:</span> <span class="s2">&quot;水無月&quot;</span><span class="p">,</span> <span class="mi">7</span><span class="o">:</span> <span class="s2">&quot;文月&quot;</span><span class="p">,</span> <span class="mi">8</span><span class="o">:</span> <span class="s2">&quot;葉月&quot;</span><span class="p">,</span>
            <span class="mi">9</span><span class="o">:</span> <span class="s2">&quot;長月&quot;</span><span class="p">,</span> <span class="mi">10</span><span class="o">:</span> <span class="s2">&quot;神無月&quot;</span><span class="p">,</span> <span class="mi">11</span><span class="o">:</span> <span class="s2">&quot;霜月&quot;</span><span class="p">,</span> <span class="mi">12</span><span class="o">:</span> <span class="s2">&quot;師走&quot;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="c1">// Generates calendar</span>
<span class="kd">function</span> <span class="nx">calcCalendar</span><span class="p">(</span><span class="nx">year</span><span class="p">,</span> <span class="nx">month</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">i</span><span class="p">,</span> <span class="nx">d</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">firstDay</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">(</span><span class="nx">year</span><span class="p">,</span> <span class="nx">month</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">).</span><span class="nx">getDay</span><span class="p">();</span>
    <span class="kd">var</span> <span class="nx">last</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">(</span><span class="nx">year</span><span class="p">,</span> <span class="nx">month</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">weeks</span> <span class="o">=</span> <span class="p">[];</span>
    <span class="kd">var</span> <span class="nx">week</span> <span class="o">=</span> <span class="p">[];</span>
    <span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">firstDay</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">week</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">for</span> <span class="p">(</span><span class="nx">d</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="nx">d</span> <span class="o">&lt;=</span> <span class="nx">last</span><span class="p">.</span><span class="nx">getDate</span><span class="p">();</span> <span class="nx">d</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">week</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">d</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">week</span><span class="p">.</span><span class="nx">length</span> <span class="o">===</span> <span class="mi">7</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">weeks</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">week</span><span class="p">);</span>
            <span class="nx">week</span> <span class="o">=</span> <span class="p">[];</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="p">(</span><span class="mi">6</span> <span class="o">-</span> <span class="nx">last</span><span class="p">.</span><span class="nx">getDay</span><span class="p">());</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">week</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="nx">weeks</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">week</span><span class="p">);</span>
    <span class="k">return</span> <span class="nx">weeks</span><span class="p">;</span>
<span class="p">}</span>

<span class="nx">Vue</span><span class="p">.</span><span class="nx">component</span><span class="p">(</span><span class="s1">&#39;calendar&#39;</span><span class="p">,</span> <span class="p">{</span>
    <span class="nx">props</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">year</span><span class="o">:</span> <span class="nb">Number</span><span class="p">,</span>
        <span class="nx">month</span><span class="o">:</span> <span class="nb">Number</span>
    <span class="p">},</span>
    <span class="nx">template</span><span class="o">:</span> <span class="p">[</span>
        <span class="s1">&#39;&lt;table&gt;&#39;</span><span class="p">,</span>
            <span class="s1">&#39;&lt;thead&gt;&#39;</span><span class="p">,</span>
                <span class="s1">&#39;&lt;tr&gt;&#39;</span><span class="p">,</span>
                    <span class="s1">&#39;&lt;th v-for=&quot;label in dayOfWeekLabels&quot;&gt;{{ i18n(label) }}&lt;/th&gt;&#39;</span><span class="p">,</span>
                <span class="s1">&#39;&lt;/tr&gt;&#39;</span><span class="p">,</span>
            <span class="s1">&#39;&lt;/thead&gt;&#39;</span><span class="p">,</span>
            <span class="s1">&#39;&lt;tbody&gt;&#39;</span><span class="p">,</span>
                <span class="s1">&#39;&lt;tr v-for=&quot;week in calendar&quot;&gt;&#39;</span><span class="p">,</span>
                    <span class="s1">&#39;&lt;td v-for=&quot;day in week&quot;&gt;{{day}}&lt;/td&gt;&#39;</span><span class="p">,</span>
                <span class="s1">&#39;&lt;/tr&gt;&#39;</span><span class="p">,</span>
            <span class="s1">&#39;&lt;/tbody&gt;&#39;</span><span class="p">,</span>
        <span class="s1">&#39;&lt;/table&gt;&#39;</span><span class="p">].</span><span class="nx">join</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">),</span>
    <span class="nx">computed</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">calendar</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">calcCalendar</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">year</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">month</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">},</span>
    <span class="nx">data</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="nx">dayOfWeekLabels</span><span class="o">:</span> <span class="p">[</span><span class="s1">&#39;Sun&#39;</span><span class="p">,</span> <span class="s1">&#39;Mon&#39;</span><span class="p">,</span> <span class="s1">&#39;Tue&#39;</span><span class="p">,</span> <span class="s1">&#39;Wed&#39;</span><span class="p">,</span> <span class="s1">&#39;Thu&#39;</span><span class="p">,</span> <span class="s1">&#39;Fri&#39;</span><span class="p">,</span> <span class="s1">&#39;Sat&#39;</span><span class="p">]</span>
        <span class="p">};</span>
    <span class="p">},</span>
    <span class="nx">methods</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">i18n</span><span class="o">:</span> <span class="nx">i18n</span>
    <span class="p">}</span>
<span class="p">});</span>

<span class="kd">var</span> <span class="nx">Calendar</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">data</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="nx">year</span><span class="o">:</span> <span class="kc">null</span><span class="p">,</span>
            <span class="nx">month</span><span class="o">:</span> <span class="kc">null</span><span class="p">,</span>
        <span class="p">};</span>
    <span class="p">},</span>
    <span class="nx">template</span><span class="o">:</span> <span class="p">[</span>
        <span class="s1">&#39;&lt;div&gt;&#39;</span><span class="p">,</span>
            <span class="s1">&#39;&lt;h3 v-i18n&gt;Language Select&lt;/h3&gt;&#39;</span><span class="p">,</span>
            <span class="s1">&#39;&lt;button v-on:click=&quot;select(\&#39;en\&#39;)&quot;&gt;English&lt;/button&gt;&#39;</span><span class="p">,</span>
            <span class="s1">&#39;&lt;button v-on:click=&quot;select(\&#39;ja\&#39;)&quot;&gt;Japanese&lt;/button&gt;&#39;</span><span class="p">,</span>
            <span class="s1">&#39;&lt;h3&gt;{{ i18n(&quot;%{month} %{year}&quot;, {year: year, month: i18n(month) }) }}&lt;/h3&gt;&#39;</span><span class="p">,</span>
            <span class="s1">&#39;&lt;button v-on:click=&quot;prev&quot; v-i18n&gt;Previous Month&lt;/button&gt;&#39;</span><span class="p">,</span>
            <span class="s1">&#39;&lt;button v-on:click=&quot;next&quot; v-i18n&gt;Next Month&lt;/button&gt;&#39;</span><span class="p">,</span>
            <span class="s1">&#39;&lt;calendar :year=&quot;year&quot; :month=&quot;month&quot;&gt;&lt;/calendar&gt;&#39;</span><span class="p">,</span>
        <span class="s1">&#39;&lt;/div&gt;&#39;</span>
    <span class="p">].</span><span class="nx">join</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">),</span>
    <span class="nx">created</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">year</span> <span class="o">=</span> <span class="nb">Number</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">$route</span><span class="p">.</span><span class="nx">params</span><span class="p">.</span><span class="nx">year</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">month</span> <span class="o">=</span> <span class="nb">Number</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">$route</span><span class="p">.</span><span class="nx">params</span><span class="p">.</span><span class="nx">month</span><span class="p">);</span>
    <span class="p">},</span>
    <span class="nx">methods</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">prev</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">month</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">router</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">year</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;/12&#39;</span><span class="p">);</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                <span class="nx">router</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">year</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">month</span> <span class="o">-</span> <span class="mi">1</span><span class="p">));</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="nx">next</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">month</span> <span class="o">===</span> <span class="mi">12</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">router</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">year</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;/1&#39;</span><span class="p">);</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                <span class="nx">router</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">year</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">month</span> <span class="o">+</span> <span class="mi">1</span><span class="p">));</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="nx">select</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">lang</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">i18n</span><span class="p">.</span><span class="nx">translator</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">translations</span><span class="p">[</span><span class="nx">lang</span><span class="p">]);</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">$forceUpdate</span><span class="p">();</span>
        <span class="p">},</span>
        <span class="nx">i18n</span><span class="o">:</span> <span class="nx">i18n</span>
    <span class="p">},</span>
    <span class="nx">watch</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">$route</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">year</span> <span class="o">=</span> <span class="nb">Number</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">$route</span><span class="p">.</span><span class="nx">params</span><span class="p">.</span><span class="nx">year</span><span class="p">);</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">month</span> <span class="o">=</span> <span class="nb">Number</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">$route</span><span class="p">.</span><span class="nx">params</span><span class="p">.</span><span class="nx">month</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">};</span>
<span class="kd">var</span> <span class="nx">date</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">();</span>
<span class="kd">var</span> <span class="nx">thisMonth</span> <span class="o">=</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="nx">date</span><span class="p">.</span><span class="nx">getFullYear</span><span class="p">()</span> <span class="o">+</span> <span class="s1">&#39;/&#39;</span> <span class="o">+</span> <span class="p">(</span><span class="nx">date</span><span class="p">.</span><span class="nx">getMonth</span><span class="p">()</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
<span class="nx">router</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">VueRouter</span><span class="p">({</span>
    <span class="nx">routes</span><span class="o">:</span> <span class="p">[</span>
        <span class="p">{</span> <span class="nx">path</span><span class="o">:</span> <span class="s1">&#39;/:year/:month&#39;</span><span class="p">,</span> <span class="nx">component</span><span class="o">:</span> <span class="nx">Calendar</span> <span class="p">},</span>
        <span class="p">{</span> <span class="nx">path</span><span class="o">:</span> <span class="s1">&#39;/&#39;</span><span class="p">,</span> <span class="nx">redirect</span><span class="o">:</span> <span class="nx">thisMonth</span> <span class="p">}</span>
    <span class="p">]</span>
<span class="p">});</span>

<span class="kd">function</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">i18n</span><span class="p">.</span><span class="nx">translator</span><span class="p">.</span><span class="nx">selectLanguage</span><span class="p">(</span><span class="nb">Object</span><span class="p">.</span><span class="nx">keys</span><span class="p">(</span><span class="nx">translations</span><span class="p">),</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">lang</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">i18n</span><span class="p">.</span><span class="nx">translator</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">translations</span><span class="p">[</span><span class="nx">lang</span><span class="p">]</span> <span class="o">?</span> <span class="nx">translations</span><span class="p">[</span><span class="nx">lang</span><span class="p">]</span> <span class="o">:</span> <span class="nx">translations</span><span class="p">.</span><span class="nx">en</span><span class="p">);</span>
    <span class="p">});</span>

    <span class="nx">vm</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
        <span class="nx">router</span><span class="o">:</span> <span class="nx">router</span><span class="p">,</span>
        <span class="nx">el</span><span class="o">:</span> <span class="s1">&#39;#app-calendar&#39;</span>
    <span class="p">});</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">readyState</span> <span class="o">!==</span> <span class="s1">&#39;loading&#39;</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">main</span><span class="p">();</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="nb">document</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;DOMContentLoaded&#39;</span><span class="p">,</span> <span class="nx">main</span><span class="p">);</span>
<span class="p">}</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</pre></div>
</td></tr></table></div>
</div>
</div>


      </div>
      <div class="bottomnav" role="navigation" aria-label="bottom navigation">
      
        <p>
        «&#160;&#160;<a href="mithril.html">Mithril Example</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="../unittest.html">Unittest</a>&#160;&#160;»
        </p>

      </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2016, Yoshiki Shibukawa.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.5.
    </div>
  </body>
</html>